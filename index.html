<!DOCTYPE html>
<html ng-app="WithinDownloader">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="A tool to download HD 360 Stereoscopic VR videos from Within VR.">

  <title>Within VR Downloader</title>

  <link href="https://fonts.googleapis.com/css?family=Julius+Sans+One|Roboto" rel="stylesheet">
  <link rel="stylesheet" href="/lib/uikit/css/uikit.min.css" />
  <link rel="stylesheet" href="/res/styles.css" />
</head>

<body ng-controller="WithinController as WC">

  <div class="uk-container uk-container-center uk-margin-top uk-margin-large-bottom">

    <div class="uk-grid" data-uk-grid-margin>
      <div class="uk-width-1-1 uk-text-center">
        <h1 class="uk-heading-large">Within VR Downloader</h1>
        <p class="uk-text-large">A tool to download HD 360 Stereoscopic VR videos from Within VR.</p>
      </div>
    </div>

  </div>

  <div class="uk-grid uk-grid-collapse" data-uk-grid-margin>
    <div class="uk-width-medium-1-3" ng-repeat="video in WC.videoData track by $index">
      <div class="uk-overlay-hover" data-uk-modal="{target:'#{{$index}}', center:true}">
        <figure class="uk-overlay">
          <img width="1024" height="539" ng-src="{{WC.getImagePath(video)}}" alt="">
          <figcaption class="uk-overlay-panel uk-overlay-background uk-overlay-fade">
            <h1 class="uk-text-center">{{video.title}}</h1>
            <p>
              {{video.description}}
            </p>
            <p class="uk-text-center">
              Click to Download
            </p>
          </figcaption>
        </figure>
      </div>
      <div id="{{$index}}" class="uk-modal">
        <div class="uk-modal-dialog">

          <a href="" class="uk-modal-close uk-close uk-close-alt"></a>

          <div class="uk-grid" data-uk-grid-margin>

            <div class="uk-width-1-1">
              <div class="uk-modal-header">
                <h1 class="uk-heading-medium uk-text-center dark">Download Settings</h1>
              </div>

              <form class="uk-form-stacked">

                <div class="uk-form-row">
                  <label class="uk-form-label">Projection</label>
                  <select ng-model="WC.selectedSettings.projection">
                    <option ng-repeat="projection in WC.settings.projections" >{{projection}}</option>
                  </select>
                </div>

                <div class="uk-form-row">
                  <label class="uk-form-label">File Type</label>
                  <select ng-model="WC.selectedSettings.fileType">
                    <option ng-repeat="fileType in WC.settings.fileTypes" ng-value="resolution">{{fileType}}</option>
                  </select>
                </div>

                <div class="uk-form-row">
                  <label class="uk-form-label">Resolution</label>
                  <select ng-model="WC.selectedSettings.resolution">
                    <option ng-repeat="resolution in WC.settings.resolutions" ng-value="resolution">{{resolution}}</option>
                  </select>
                </div>

                <!-- <div class="uk-form-row">
                  <label class="uk-form-label">Download 360 Audio</label>
                  <label class="uk-form-label"><input type="radio" name="audio" ng-model="WC.selectedSettings.downloadAudio" value="true" selected>Yes</label>
                  <label class="uk-form-label"><input type="radio" name="audio" ng-model="WC.selectedSettings.downloadAudio" value="false">No</label>
                </div> -->

                <p class="text-center red">
                  {{WC.error}}
                </p>
                <p class="text-center red">
                  Use Chrome for best download experience.
                </p>

                <!-- <button class="uk-button uk-button-success uk-text-center" type="button" ng-click="WC.downloadFiles(video)">Download</button> -->
                <a href="{{WC.getVideoPath(video)}}" class="uk-button uk-button-success uk-text-center" download>Download Video</a>
              </form>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="uk-container uk-container-center uk-margin-top uk-margin-bottom">
    <footer class="uk-grid" data-uk-grid-margin>
      <div class="uk-width-1-1">
        <p class="uk-text-large uk-text-center">This project is not affiliated or endorsed by Within in any way, nor does it host any of their content.</p>
        <p class="uk-text-medium uk-text-center">&copy; 2016 Jordan Majd.</p>
      </div>
    </footer>
  </div>

  <script src="/lib/jquery/dist/jquery.min.js"></script>
  <script src="/lib/uikit/js/uikit.min.js"></script>
  <script src="/lib/angular/angular.min.js"></script>
  <script src="/res/app.js"></script>
</body>

</html>
